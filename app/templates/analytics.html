{% extends "base.html" %}
{% import 'bootstrap/wtf.html' as wtf %}

{% block app_content %}
Свойства:

<div class="row">
  {% if title %} <h2>{{title}}</h2> {% endif %}
      <div class="col-md-4">
        {{ wtf.quick_form(form, id="analyticsform") }}
        <br>
        <a class="btn btn-info" href="{{url_for('main.user_integrations')}}">Назад</a>
    </div>
</div>

 <p id = "GFG_UP" style ="font-size: 15px; font-weight: bold;"></p>
 <table id="table" align = "center" border="1px"></table>


{% endblock %}

{% block scripts %}
{{ super() }}
<script type="text/jsx" src='{{url_for("static",filename="js/analytics.js")}}'></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.15/js/bootstrap-multiselect.min.js" integrity="sha512-aFvi2oPv3NjnjQv1Y/hmKD7RNMendo4CZ2DwQqMWzoURKxcqAoktj0nNG4LU8m23+Ws9X5uVDD4OXLqpUVXD5Q==" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.15/css/bootstrap-multiselect.css" integrity="sha512-EvvoSMXERW4Pe9LjDN9XDzHd66p8Z49gcrB7LCUplh0GcEHiV816gXGwIhir6PJiwl0ew8GFM2QaIg2TW02B9A==" crossorigin="anonymous" />
<script type="text/javascript">
  $(document).ready(function() {
    var select_options = {
      includeSelectAllOption: true,
      selectAllText: 'Выбрать все',
      buttonWidth: '270px',
      buttonClass: 'grmax-select-button btn btn-default',
      selectedClass: 'grmax-multiselect-selected',
      buttonContainer: '<div class="btn-group grmax-select" />',
      maxHeight: 400,
      buttonText: function(options, select) {
                if (options.length === 0) {
                    return 'Тут пусто ...';
                }
                else {
                     var labels = [];
                     options.each(function() {
                         if ($(this).attr('label') !== undefined) {
                             labels.push($(this).attr('label'));
                         }
                         else {
                             labels.push($(this).html());
                         }
                     });
                     if (labels.length == 1) {
                       return labels[0];
                     } else {
                       return labels[0] + ' и еще ' + (labels.length - 1);
                     }
                }
            }
    }
    $('#DeviceCategory').multiselect(select_options);
    $('#OperatingSystem').multiselect(select_options);
    $('#RegionCity').multiselect(select_options);
    $('#clause_visits').multiselect(select_options);
    $('#GoalsID').multiselect(select_options);
    $('#URL').multiselect(select_options);
  });
</script>

{% endblock %}
