{% extends "base.html" %}

{% block app_content %}

<div>
  <p id='atb' hidden>{{integration_id}}</p>
  <p><b>Интеграция {{integration_name}}</b></p>
  <p>Доступны данные с <b>{{min_date}}</b> по <b>{{max_date}}</b></p>
  <p>Всего уникальных визитов доступно: <b>{{data_length}}</b></p>
</div>

<div id='mount-button_run_table'></div>
<div id="mount-visits_table"></div>

{% if table %}
<div class="table-wrapper-scroll-y my-custom-scrollbar">
  <table class="table table-striped table-dark table-bordered table-striped mb-0">
    <thead class="thead-dark">
      <tr>
      {% for column in titles%}
        <th scope="col">{{column}}</th>
      {% endfor %}

        </tr>
      </thead>

      <tbody>
        {% for key,value in table.iterrows() %}
          <tr>
            {% for td in value %}
            <td>{{td}}</td>
            {% endfor %}
          </tr>
        {% endfor %}
      </tbody>
    </table>
</div>

<!-- первый график - зависимость конверсии от общего количества визитов - с email и без email -->
<div id="chart_div1" style="width: 1000px; height: 500px;"></div>
<br>
<!-- третий график - зависимость конверсии от количества визитов c email
<div id="chart_div3" style="width: 1000px; height: 500px;"></div>
<br>
второй график - зависимость конверсии от количества визитов c email в utm/общее количество визитов
<div id="chart_div2" style="width: 1000px; height: 500px;"></div>-->

<!-- диаграмма -->
<br>
<div id="piechart_3d" style="width: 1000px; height: 500px;"></div>
{% endif %}



{% endblock %}

{% block scripts %}
{{ super() }}
<script type="text/jsx" src='{{url_for("static",filename="js/react_table_components.js")}}'></script>
<!-- <script type="text/javascript" src='{{url_for("static",filename="js/google_charts.js")}}'></script> -->
{% endblock %}
